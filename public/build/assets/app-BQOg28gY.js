function ii(e,t){return function(){return e.apply(t,arguments)}}const{toString:zi}=Object.prototype,{getPrototypeOf:ge}=Object,{iterator:Xt,toStringTag:ri}=Symbol,qt=(e=>t=>{const i=zi.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),J=e=>(e=e.toLowerCase(),t=>qt(t)===e),Yt=e=>t=>typeof t===e,{isArray:yt}=Array,bt=Yt("undefined");function Nt(e){return e!==null&&!bt(e)&&e.constructor!==null&&!bt(e.constructor)&&j(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ni=J("ArrayBuffer");function Wi(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ni(e.buffer),t}const Xi=Yt("string"),j=Yt("function"),ai=Yt("number"),Mt=e=>e!==null&&typeof e=="object",qi=e=>e===!0||e===!1,Ht=e=>{if(qt(e)!=="object")return!1;const t=ge(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ri in e)&&!(Xt in e)},Yi=e=>{if(!Mt(e)||Nt(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},$i=J("Date"),Vi=J("File"),Ji=J("Blob"),Gi=J("FileList"),Ki=e=>Mt(e)&&j(e.pipe),Qi=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||j(e.append)&&((t=qt(e))==="formdata"||t==="object"&&j(e.toString)&&e.toString()==="[object FormData]"))},Zi=J("URLSearchParams"),[tr,er,ir,rr]=["ReadableStream","Request","Response","Headers"].map(J),nr=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pt(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),yt(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(Nt(e))return;const a=i?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let o;for(r=0;r<s;r++)o=a[r],t.call(null,e[o],o,e)}}function si(e,t){if(Nt(e))return null;t=t.toLowerCase();const i=Object.keys(e);let r=i.length,n;for(;r-- >0;)if(n=i[r],t===n.toLowerCase())return n;return null}const ot=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oi=e=>!bt(e)&&e!==ot;function ee(){const{caseless:e,skipUndefined:t}=oi(this)&&this||{},i={},r=(n,a)=>{const s=e&&si(i,a)||a;Ht(i[s])&&Ht(n)?i[s]=ee(i[s],n):Ht(n)?i[s]=ee({},n):yt(n)?i[s]=n.slice():(!t||!bt(n))&&(i[s]=n)};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Pt(arguments[n],r);return i}const ar=(e,t,i,{allOwnKeys:r}={})=>(Pt(t,(n,a)=>{i&&j(n)?e[a]=ii(n,i):e[a]=n},{allOwnKeys:r}),e),sr=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),or=(e,t,i,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},cr=(e,t,i,r)=>{let n,a,s;const o={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),a=n.length;a-- >0;)s=n[a],(!r||r(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=i!==!1&&ge(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},hr=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const r=e.indexOf(t,i);return r!==-1&&r===i},lr=e=>{if(!e)return null;if(yt(e))return e;let t=e.length;if(!ai(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},ur=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ge(Uint8Array)),fr=(e,t)=>{const r=(e&&e[Xt]).call(e);let n;for(;(n=r.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},dr=(e,t)=>{let i;const r=[];for(;(i=e.exec(t))!==null;)r.push(i);return r},pr=J("HTMLFormElement"),mr=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,r,n){return r.toUpperCase()+n}),Re=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),gr=J("RegExp"),ci=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),r={};Pt(i,(n,a)=>{let s;(s=t(n,a,e))!==!1&&(r[a]=s||n)}),Object.defineProperties(e,r)},wr=e=>{ci(e,(t,i)=>{if(j(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const r=e[i];if(j(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},vr=(e,t)=>{const i={},r=n=>{n.forEach(a=>{i[a]=!0})};return yt(e)?r(e):r(String(e).split(t)),i},br=()=>{},yr=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Er(e){return!!(e&&j(e.append)&&e[ri]==="FormData"&&e[Xt])}const xr=e=>{const t=new Array(10),i=(r,n)=>{if(Mt(r)){if(t.indexOf(r)>=0)return;if(Nt(r))return r;if(!("toJSON"in r)){t[n]=r;const a=yt(r)?[]:{};return Pt(r,(s,o)=>{const u=i(s,n+1);!bt(u)&&(a[o]=u)}),t[n]=void 0,a}}return r};return i(e,0)},Or=J("AsyncFunction"),Rr=e=>e&&(Mt(e)||j(e))&&j(e.then)&&j(e.catch),hi=((e,t)=>e?setImmediate:t?((i,r)=>(ot.addEventListener("message",({source:n,data:a})=>{n===ot&&a===i&&r.length&&r.shift()()},!1),n=>{r.push(n),ot.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",j(ot.postMessage)),Tr=typeof queueMicrotask<"u"?queueMicrotask.bind(ot):typeof process<"u"&&process.nextTick||hi,Sr=e=>e!=null&&j(e[Xt]),f={isArray:yt,isArrayBuffer:ni,isBuffer:Nt,isFormData:Qi,isArrayBufferView:Wi,isString:Xi,isNumber:ai,isBoolean:qi,isObject:Mt,isPlainObject:Ht,isEmptyObject:Yi,isReadableStream:tr,isRequest:er,isResponse:ir,isHeaders:rr,isUndefined:bt,isDate:$i,isFile:Vi,isBlob:Ji,isRegExp:gr,isFunction:j,isStream:Ki,isURLSearchParams:Zi,isTypedArray:ur,isFileList:Gi,forEach:Pt,merge:ee,extend:ar,trim:nr,stripBOM:sr,inherits:or,toFlatObject:cr,kindOf:qt,kindOfTest:J,endsWith:hr,toArray:lr,forEachEntry:fr,matchAll:dr,isHTMLForm:pr,hasOwnProperty:Re,hasOwnProp:Re,reduceDescriptors:ci,freezeMethods:wr,toObjectSet:vr,toCamelCase:mr,noop:br,toFiniteNumber:yr,findKey:si,global:ot,isContextDefined:oi,isSpecCompliantForm:Er,toJSONObject:xr,isAsyncFn:Or,isThenable:Rr,setImmediate:hi,asap:Tr,isIterable:Sr};function y(e,t,i,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}f.inherits(y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.status}}});const li=y.prototype,ui={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ui[e]={value:e}});Object.defineProperties(y,ui);Object.defineProperty(li,"isAxiosError",{value:!0});y.from=(e,t,i,r,n,a)=>{const s=Object.create(li);f.toFlatObject(e,s,function(c){return c!==Error.prototype},h=>h!=="isAxiosError");const o=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return y.call(s,o,u,i,r,n),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",a&&Object.assign(s,a),s};const Dr=null;function ie(e){return f.isPlainObject(e)||f.isArray(e)}function fi(e){return f.endsWith(e,"[]")?e.slice(0,-2):e}function Te(e,t,i){return e?e.concat(t).map(function(n,a){return n=fi(n),!i&&a?"["+n+"]":n}).join(i?".":""):t}function Ar(e){return f.isArray(e)&&!e.some(ie)}const Cr=f.toFlatObject(f,{},null,function(t){return/^is[A-Z]/.test(t)});function $t(e,t,i){if(!f.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=f.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,g){return!f.isUndefined(g[w])});const r=i.metaTokens,n=i.visitor||c,a=i.dots,s=i.indexes,u=(i.Blob||typeof Blob<"u"&&Blob)&&f.isSpecCompliantForm(t);if(!f.isFunction(n))throw new TypeError("visitor must be a function");function h(p){if(p===null)return"";if(f.isDate(p))return p.toISOString();if(f.isBoolean(p))return p.toString();if(!u&&f.isBlob(p))throw new y("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(p)||f.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,w,g){let E=p;if(p&&!g&&typeof p=="object"){if(f.endsWith(w,"{}"))w=r?w:w.slice(0,-2),p=JSON.stringify(p);else if(f.isArray(p)&&Ar(p)||(f.isFileList(p)||f.endsWith(w,"[]"))&&(E=f.toArray(p)))return w=fi(w),E.forEach(function(x,S){!(f.isUndefined(x)||x===null)&&t.append(s===!0?Te([w],S,a):s===null?w:w+"[]",h(x))}),!1}return ie(p)?!0:(t.append(Te(g,w,a),h(p)),!1)}const l=[],d=Object.assign(Cr,{defaultVisitor:c,convertValue:h,isVisitable:ie});function v(p,w){if(!f.isUndefined(p)){if(l.indexOf(p)!==-1)throw Error("Circular reference detected in "+w.join("."));l.push(p),f.forEach(p,function(E,R){(!(f.isUndefined(E)||E===null)&&n.call(t,E,f.isString(R)?R.trim():R,w,d))===!0&&v(E,w?w.concat(R):[R])}),l.pop()}}if(!f.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Se(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function we(e,t){this._pairs=[],e&&$t(e,this,t)}const di=we.prototype;di.append=function(t,i){this._pairs.push([t,i])};di.toString=function(t){const i=t?function(r){return t.call(this,r,Se)}:Se;return this._pairs.map(function(n){return i(n[0])+"="+i(n[1])},"").join("&")};function Nr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pi(e,t,i){if(!t)return e;const r=i&&i.encode||Nr;f.isFunction(i)&&(i={serialize:i});const n=i&&i.serialize;let a;if(n?a=n(t,i):a=f.isURLSearchParams(t)?t.toString():new we(t,i).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class De{constructor(){this.handlers=[]}use(t,i,r){return this.handlers.push({fulfilled:t,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){f.forEach(this.handlers,function(r){r!==null&&t(r)})}}const mi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mr=typeof URLSearchParams<"u"?URLSearchParams:we,Pr=typeof FormData<"u"?FormData:null,_r=typeof Blob<"u"?Blob:null,Lr={isBrowser:!0,classes:{URLSearchParams:Mr,FormData:Pr,Blob:_r},protocols:["http","https","file","blob","url","data"]},ve=typeof window<"u"&&typeof document<"u",re=typeof navigator=="object"&&navigator||void 0,Br=ve&&(!re||["ReactNative","NativeScript","NS"].indexOf(re.product)<0),kr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ur=ve&&window.location.href||"http://localhost",Ir=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ve,hasStandardBrowserEnv:Br,hasStandardBrowserWebWorkerEnv:kr,navigator:re,origin:Ur},Symbol.toStringTag,{value:"Module"})),U={...Ir,...Lr};function Hr(e,t){return $t(e,new U.classes.URLSearchParams,{visitor:function(i,r,n,a){return U.isNode&&f.isBuffer(i)?(this.append(r,i.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Fr(e){return f.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function jr(e){const t={},i=Object.keys(e);let r;const n=i.length;let a;for(r=0;r<n;r++)a=i[r],t[a]=e[a];return t}function gi(e){function t(i,r,n,a){let s=i[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),u=a>=i.length;return s=!s&&f.isArray(n)?n.length:s,u?(f.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!o):((!n[s]||!f.isObject(n[s]))&&(n[s]=[]),t(i,r,n[s],a)&&f.isArray(n[s])&&(n[s]=jr(n[s])),!o)}if(f.isFormData(e)&&f.isFunction(e.entries)){const i={};return f.forEachEntry(e,(r,n)=>{t(Fr(r),n,i,0)}),i}return null}function zr(e,t,i){if(f.isString(e))try{return(t||JSON.parse)(e),f.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(e)}const _t={transitional:mi,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const r=i.getContentType()||"",n=r.indexOf("application/json")>-1,a=f.isObject(t);if(a&&f.isHTMLForm(t)&&(t=new FormData(t)),f.isFormData(t))return n?JSON.stringify(gi(t)):t;if(f.isArrayBuffer(t)||f.isBuffer(t)||f.isStream(t)||f.isFile(t)||f.isBlob(t)||f.isReadableStream(t))return t;if(f.isArrayBufferView(t))return t.buffer;if(f.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Hr(t,this.formSerializer).toString();if((o=f.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return $t(o?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||n?(i.setContentType("application/json",!1),zr(t)):t}],transformResponse:[function(t){const i=this.transitional||_t.transitional,r=i&&i.forcedJSONParsing,n=this.responseType==="json";if(f.isResponse(t)||f.isReadableStream(t))return t;if(t&&f.isString(t)&&(r&&!this.responseType||n)){const s=!(i&&i.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?y.from(o,y.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:U.classes.FormData,Blob:U.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f.forEach(["delete","get","head","post","put","patch"],e=>{_t.headers[e]={}});const Wr=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xr=e=>{const t={};let i,r,n;return e&&e.split(`
`).forEach(function(s){n=s.indexOf(":"),i=s.substring(0,n).trim().toLowerCase(),r=s.substring(n+1).trim(),!(!i||t[i]&&Wr[i])&&(i==="set-cookie"?t[i]?t[i].push(r):t[i]=[r]:t[i]=t[i]?t[i]+", "+r:r)}),t},Ae=Symbol("internals");function xt(e){return e&&String(e).trim().toLowerCase()}function Ft(e){return e===!1||e==null?e:f.isArray(e)?e.map(Ft):String(e)}function qr(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=i.exec(e);)t[r[1]]=r[2];return t}const Yr=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Gt(e,t,i,r,n){if(f.isFunction(r))return r.call(this,t,i);if(n&&(t=i),!!f.isString(t)){if(f.isString(r))return t.indexOf(r)!==-1;if(f.isRegExp(r))return r.test(t)}}function $r(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,r)=>i.toUpperCase()+r)}function Vr(e,t){const i=f.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+i,{value:function(n,a,s){return this[r].call(this,t,n,a,s)},configurable:!0})})}let z=class{constructor(t){t&&this.set(t)}set(t,i,r){const n=this;function a(o,u,h){const c=xt(u);if(!c)throw new Error("header name must be a non-empty string");const l=f.findKey(n,c);(!l||n[l]===void 0||h===!0||h===void 0&&n[l]!==!1)&&(n[l||u]=Ft(o))}const s=(o,u)=>f.forEach(o,(h,c)=>a(h,c,u));if(f.isPlainObject(t)||t instanceof this.constructor)s(t,i);else if(f.isString(t)&&(t=t.trim())&&!Yr(t))s(Xr(t),i);else if(f.isObject(t)&&f.isIterable(t)){let o={},u,h;for(const c of t){if(!f.isArray(c))throw TypeError("Object iterator must return a key-value pair");o[h=c[0]]=(u=o[h])?f.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}s(o,i)}else t!=null&&a(i,t,r);return this}get(t,i){if(t=xt(t),t){const r=f.findKey(this,t);if(r){const n=this[r];if(!i)return n;if(i===!0)return qr(n);if(f.isFunction(i))return i.call(this,n,r);if(f.isRegExp(i))return i.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=xt(t),t){const r=f.findKey(this,t);return!!(r&&this[r]!==void 0&&(!i||Gt(this,this[r],r,i)))}return!1}delete(t,i){const r=this;let n=!1;function a(s){if(s=xt(s),s){const o=f.findKey(r,s);o&&(!i||Gt(r,r[o],o,i))&&(delete r[o],n=!0)}}return f.isArray(t)?t.forEach(a):a(t),n}clear(t){const i=Object.keys(this);let r=i.length,n=!1;for(;r--;){const a=i[r];(!t||Gt(this,this[a],a,t,!0))&&(delete this[a],n=!0)}return n}normalize(t){const i=this,r={};return f.forEach(this,(n,a)=>{const s=f.findKey(r,a);if(s){i[s]=Ft(n),delete i[a];return}const o=t?$r(a):String(a).trim();o!==a&&delete i[a],i[o]=Ft(n),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return f.forEach(this,(r,n)=>{r!=null&&r!==!1&&(i[n]=t&&f.isArray(r)?r.join(", "):r)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const r=new this(t);return i.forEach(n=>r.set(n)),r}static accessor(t){const r=(this[Ae]=this[Ae]={accessors:{}}).accessors,n=this.prototype;function a(s){const o=xt(s);r[o]||(Vr(n,s),r[o]=!0)}return f.isArray(t)?t.forEach(a):a(t),this}};z.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.reduceDescriptors(z.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[i]=r}}});f.freezeMethods(z);function Kt(e,t){const i=this||_t,r=t||i,n=z.from(r.headers);let a=r.data;return f.forEach(e,function(o){a=o.call(i,a,n.normalize(),t?t.status:void 0)}),n.normalize(),a}function wi(e){return!!(e&&e.__CANCEL__)}function Et(e,t,i){y.call(this,e??"canceled",y.ERR_CANCELED,t,i),this.name="CanceledError"}f.inherits(Et,y,{__CANCEL__:!0});function vi(e,t,i){const r=i.config.validateStatus;!i.status||!r||r(i.status)?e(i):t(new y("Request failed with status code "+i.status,[y.ERR_BAD_REQUEST,y.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Jr(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Gr(e,t){e=e||10;const i=new Array(e),r=new Array(e);let n=0,a=0,s;return t=t!==void 0?t:1e3,function(u){const h=Date.now(),c=r[a];s||(s=h),i[n]=u,r[n]=h;let l=a,d=0;for(;l!==n;)d+=i[l++],l=l%e;if(n=(n+1)%e,n===a&&(a=(a+1)%e),h-s<t)return;const v=c&&h-c;return v?Math.round(d*1e3/v):void 0}}function Kr(e,t){let i=0,r=1e3/t,n,a;const s=(h,c=Date.now())=>{i=c,n=null,a&&(clearTimeout(a),a=null),e(...h)};return[(...h)=>{const c=Date.now(),l=c-i;l>=r?s(h,c):(n=h,a||(a=setTimeout(()=>{a=null,s(n)},r-l)))},()=>n&&s(n)]}const zt=(e,t,i=3)=>{let r=0;const n=Gr(50,250);return Kr(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,u=s-r,h=n(u),c=s<=o;r=s;const l={loaded:s,total:o,progress:o?s/o:void 0,bytes:u,rate:h||void 0,estimated:h&&o&&c?(o-s)/h:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(l)},i)},Ce=(e,t)=>{const i=e!=null;return[r=>t[0]({lengthComputable:i,total:e,loaded:r}),t[1]]},Ne=e=>(...t)=>f.asap(()=>e(...t)),Qr=U.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,U.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(U.origin),U.navigator&&/(msie|trident)/i.test(U.navigator.userAgent)):()=>!0,Zr=U.hasStandardBrowserEnv?{write(e,t,i,r,n,a){const s=[e+"="+encodeURIComponent(t)];f.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),f.isString(r)&&s.push("path="+r),f.isString(n)&&s.push("domain="+n),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function en(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bi(e,t,i){let r=!tn(t);return e&&(r||i==!1)?en(e,t):t}const Me=e=>e instanceof z?{...e}:e;function ht(e,t){t=t||{};const i={};function r(h,c,l,d){return f.isPlainObject(h)&&f.isPlainObject(c)?f.merge.call({caseless:d},h,c):f.isPlainObject(c)?f.merge({},c):f.isArray(c)?c.slice():c}function n(h,c,l,d){if(f.isUndefined(c)){if(!f.isUndefined(h))return r(void 0,h,l,d)}else return r(h,c,l,d)}function a(h,c){if(!f.isUndefined(c))return r(void 0,c)}function s(h,c){if(f.isUndefined(c)){if(!f.isUndefined(h))return r(void 0,h)}else return r(void 0,c)}function o(h,c,l){if(l in t)return r(h,c);if(l in e)return r(void 0,h)}const u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(h,c,l)=>n(Me(h),Me(c),l,!0)};return f.forEach(Object.keys({...e,...t}),function(c){const l=u[c]||n,d=l(e[c],t[c],c);f.isUndefined(d)&&l!==o||(i[c]=d)}),i}const yi=e=>{const t=ht({},e);let{data:i,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:a,headers:s,auth:o}=t;if(t.headers=s=z.from(s),t.url=pi(bi(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),f.isFormData(i)){if(U.hasStandardBrowserEnv||U.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(f.isFunction(i.getHeaders)){const u=i.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([c,l])=>{h.includes(c.toLowerCase())&&s.set(c,l)})}}if(U.hasStandardBrowserEnv&&(r&&f.isFunction(r)&&(r=r(t)),r||r!==!1&&Qr(t.url))){const u=n&&a&&Zr.read(a);u&&s.set(n,u)}return t},rn=typeof XMLHttpRequest<"u",nn=rn&&function(e){return new Promise(function(i,r){const n=yi(e);let a=n.data;const s=z.from(n.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:h}=n,c,l,d,v,p;function w(){v&&v(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let g=new XMLHttpRequest;g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout;function E(){if(!g)return;const x=z.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),T={data:!o||o==="text"||o==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:x,config:e,request:g};vi(function(b){i(b),w()},function(b){r(b),w()},T),g=null}"onloadend"in g?g.onloadend=E:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(E)},g.onabort=function(){g&&(r(new y("Request aborted",y.ECONNABORTED,e,g)),g=null)},g.onerror=function(S){const T=S&&S.message?S.message:"Network Error",m=new y(T,y.ERR_NETWORK,e,g);m.event=S||null,r(m),g=null},g.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const T=n.transitional||mi;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),r(new y(S,T.clarifyTimeoutError?y.ETIMEDOUT:y.ECONNABORTED,e,g)),g=null},a===void 0&&s.setContentType(null),"setRequestHeader"in g&&f.forEach(s.toJSON(),function(S,T){g.setRequestHeader(T,S)}),f.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),o&&o!=="json"&&(g.responseType=n.responseType),h&&([d,p]=zt(h,!0),g.addEventListener("progress",d)),u&&g.upload&&([l,v]=zt(u),g.upload.addEventListener("progress",l),g.upload.addEventListener("loadend",v)),(n.cancelToken||n.signal)&&(c=x=>{g&&(r(!x||x.type?new Et(null,e,g):x),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const R=Jr(n.url);if(R&&U.protocols.indexOf(R)===-1){r(new y("Unsupported protocol "+R+":",y.ERR_BAD_REQUEST,e));return}g.send(a||null)})},an=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let r=new AbortController,n;const a=function(h){if(!n){n=!0,o();const c=h instanceof Error?h:this.reason;r.abort(c instanceof y?c:new Et(c instanceof Error?c.message:c))}};let s=t&&setTimeout(()=>{s=null,a(new y(`timeout ${t} of ms exceeded`,y.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),e=null)};e.forEach(h=>h.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>f.asap(o),u}},sn=function*(e,t){let i=e.byteLength;if(i<t){yield e;return}let r=0,n;for(;r<i;)n=r+t,yield e.slice(r,n),r=n},on=async function*(e,t){for await(const i of cn(e))yield*sn(i,t)},cn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:r}=await t.read();if(i)break;yield r}}finally{await t.cancel()}},Pe=(e,t,i,r)=>{const n=on(e,t);let a=0,s,o=u=>{s||(s=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:h,value:c}=await n.next();if(h){o(),u.close();return}let l=c.byteLength;if(i){let d=a+=l;i(d)}u.enqueue(new Uint8Array(c))}catch(h){throw o(h),h}},cancel(u){return o(u),n.return()}},{highWaterMark:2})},_e=64*1024,{isFunction:kt}=f,hn=(({Request:e,Response:t})=>({Request:e,Response:t}))(f.global),{ReadableStream:Le,TextEncoder:Be}=f.global,ke=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ln=e=>{e=f.merge.call({skipUndefined:!0},hn,e);const{fetch:t,Request:i,Response:r}=e,n=t?kt(t):typeof fetch=="function",a=kt(i),s=kt(r);if(!n)return!1;const o=n&&kt(Le),u=n&&(typeof Be=="function"?(p=>w=>p.encode(w))(new Be):async p=>new Uint8Array(await new i(p).arrayBuffer())),h=a&&o&&ke(()=>{let p=!1;const w=new i(U.origin,{body:new Le,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!w}),c=s&&o&&ke(()=>f.isReadableStream(new r("").body)),l={stream:c&&(p=>p.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!l[p]&&(l[p]=(w,g)=>{let E=w&&w[p];if(E)return E.call(w);throw new y(`Response type '${p}' is not supported`,y.ERR_NOT_SUPPORT,g)})});const d=async p=>{if(p==null)return 0;if(f.isBlob(p))return p.size;if(f.isSpecCompliantForm(p))return(await new i(U.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(f.isArrayBufferView(p)||f.isArrayBuffer(p))return p.byteLength;if(f.isURLSearchParams(p)&&(p=p+""),f.isString(p))return(await u(p)).byteLength},v=async(p,w)=>{const g=f.toFiniteNumber(p.getContentLength());return g??d(w)};return async p=>{let{url:w,method:g,data:E,signal:R,cancelToken:x,timeout:S,onDownloadProgress:T,onUploadProgress:m,responseType:b,headers:C,withCredentials:B="same-origin",fetchOptions:W}=yi(p),G=t||fetch;b=b?(b+"").toLowerCase():"text";let X=an([R,x&&x.toAbortSignal()],S),I=null;const P=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let k;try{if(m&&h&&g!=="get"&&g!=="head"&&(k=await v(C,E))!==0){let $=new i(w,{method:"POST",body:E,duplex:"half"}),tt;if(f.isFormData(E)&&(tt=$.headers.get("content-type"))&&C.setContentType(tt),$.body){const[ft,dt]=Ce(k,zt(Ne(m)));E=Pe($.body,_e,ft,dt)}}f.isString(B)||(B=B?"include":"omit");const _=a&&"credentials"in i.prototype,nt={...W,signal:X,method:g.toUpperCase(),headers:C.normalize().toJSON(),body:E,duplex:"half",credentials:_?B:void 0};I=a&&new i(w,nt);let q=await(a?G(I,W):G(w,nt));const ut=c&&(b==="stream"||b==="response");if(c&&(T||ut&&P)){const $={};["status","statusText","headers"].forEach(Bt=>{$[Bt]=q[Bt]});const tt=f.toFiniteNumber(q.headers.get("content-length")),[ft,dt]=T&&Ce(tt,zt(Ne(T),!0))||[];q=new r(Pe(q.body,_e,ft,()=>{dt&&dt(),P&&P()}),$)}b=b||"text";let Lt=await l[f.findKey(l,b)||"text"](q,p);return!ut&&P&&P(),await new Promise(($,tt)=>{vi($,tt,{data:Lt,headers:z.from(q.headers),status:q.status,statusText:q.statusText,config:p,request:I})})}catch(_){throw P&&P(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new y("Network Error",y.ERR_NETWORK,p,I),{cause:_.cause||_}):y.from(_,_&&_.code,p,I)}}},un=new Map,Ei=e=>{let t=e?e.env:{};const{fetch:i,Request:r,Response:n}=t,a=[r,n,i];let s=a.length,o=s,u,h,c=un;for(;o--;)u=a[o],h=c.get(u),h===void 0&&c.set(u,h=o?new Map:ln(t)),c=h;return h};Ei();const ne={http:Dr,xhr:nn,fetch:{get:Ei}};f.forEach(ne,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ue=e=>`- ${e}`,fn=e=>f.isFunction(e)||e===null||e===!1,xi={getAdapter:(e,t)=>{e=f.isArray(e)?e:[e];const{length:i}=e;let r,n;const a={};for(let s=0;s<i;s++){r=e[s];let o;if(n=r,!fn(r)&&(n=ne[(o=String(r)).toLowerCase()],n===void 0))throw new y(`Unknown adapter '${o}'`);if(n&&(f.isFunction(n)||(n=n.get(t))))break;a[o||"#"+s]=n}if(!n){const s=Object.entries(a).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let o=i?s.length>1?`since :
`+s.map(Ue).join(`
`):" "+Ue(s[0]):"as no adapter specified";throw new y("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:ne};function Qt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Et(null,e)}function Ie(e){return Qt(e),e.headers=z.from(e.headers),e.data=Kt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xi.getAdapter(e.adapter||_t.adapter,e)(e).then(function(r){return Qt(e),r.data=Kt.call(e,e.transformResponse,r),r.headers=z.from(r.headers),r},function(r){return wi(r)||(Qt(e),r&&r.response&&(r.response.data=Kt.call(e,e.transformResponse,r.response),r.response.headers=z.from(r.response.headers))),Promise.reject(r)})}const Oi="1.12.2",Vt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vt[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const He={};Vt.transitional=function(t,i,r){function n(a,s){return"[Axios v"+Oi+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,o)=>{if(t===!1)throw new y(n(s," has been removed"+(i?" in "+i:"")),y.ERR_DEPRECATED);return i&&!He[s]&&(He[s]=!0,console.warn(n(s," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(a,s,o):!0}};Vt.spelling=function(t){return(i,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function dn(e,t,i){if(typeof e!="object")throw new y("options must be an object",y.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const a=r[n],s=t[a];if(s){const o=e[a],u=o===void 0||s(o,a,e);if(u!==!0)throw new y("option "+a+" must be "+u,y.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new y("Unknown option "+a,y.ERR_BAD_OPTION)}}const jt={assertOptions:dn,validators:Vt},K=jt.validators;let ct=class{constructor(t){this.defaults=t||{},this.interceptors={request:new De,response:new De}}async request(t,i){try{return await this._request(t,i)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const a=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=ht(this.defaults,i);const{transitional:r,paramsSerializer:n,headers:a}=i;r!==void 0&&jt.assertOptions(r,{silentJSONParsing:K.transitional(K.boolean),forcedJSONParsing:K.transitional(K.boolean),clarifyTimeoutError:K.transitional(K.boolean)},!1),n!=null&&(f.isFunction(n)?i.paramsSerializer={serialize:n}:jt.assertOptions(n,{encode:K.function,serialize:K.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),jt.assertOptions(i,{baseUrl:K.spelling("baseURL"),withXsrfToken:K.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let s=a&&f.merge(a.common,a[i.method]);a&&f.forEach(["delete","get","head","post","put","patch","common"],p=>{delete a[p]}),i.headers=z.concat(s,a);const o=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(i)===!1||(u=u&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let c,l=0,d;if(!u){const p=[Ie.bind(this),void 0];for(p.unshift(...o),p.push(...h),d=p.length,c=Promise.resolve(i);l<d;)c=c.then(p[l++],p[l++]);return c}d=o.length;let v=i;for(;l<d;){const p=o[l++],w=o[l++];try{v=p(v)}catch(g){w.call(this,g);break}}try{c=Ie.call(this,v)}catch(p){return Promise.reject(p)}for(l=0,d=h.length;l<d;)c=c.then(h[l++],h[l++]);return c}getUri(t){t=ht(this.defaults,t);const i=bi(t.baseURL,t.url,t.allowAbsoluteUrls);return pi(i,t.params,t.paramsSerializer)}};f.forEach(["delete","get","head","options"],function(t){ct.prototype[t]=function(i,r){return this.request(ht(r||{},{method:t,url:i,data:(r||{}).data}))}});f.forEach(["post","put","patch"],function(t){function i(r){return function(a,s,o){return this.request(ht(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}ct.prototype[t]=i(),ct.prototype[t+"Form"]=i(!0)});let pn=class Ri{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(a){i=a});const r=this;this.promise.then(n=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](n);r._listeners=null}),this.promise.then=n=>{let a;const s=new Promise(o=>{r.subscribe(o),a=o}).then(n);return s.cancel=function(){r.unsubscribe(a)},s},t(function(a,s,o){r.reason||(r.reason=new Et(a,s,o),i(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=r=>{t.abort(r)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new Ri(function(n){t=n}),cancel:t}}};function mn(e){return function(i){return e.apply(null,i)}}function gn(e){return f.isObject(e)&&e.isAxiosError===!0}const ae={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ae).forEach(([e,t])=>{ae[t]=e});function Ti(e){const t=new ct(e),i=ii(ct.prototype.request,t);return f.extend(i,ct.prototype,t,{allOwnKeys:!0}),f.extend(i,t,null,{allOwnKeys:!0}),i.create=function(n){return Ti(ht(e,n))},i}const N=Ti(_t);N.Axios=ct;N.CanceledError=Et;N.CancelToken=pn;N.isCancel=wi;N.VERSION=Oi;N.toFormData=$t;N.AxiosError=y;N.Cancel=N.CanceledError;N.all=function(t){return Promise.all(t)};N.spread=mn;N.isAxiosError=gn;N.mergeConfig=ht;N.AxiosHeaders=z;N.formToJSON=e=>gi(f.isHTMLForm(e)?new FormData(e):e);N.getAdapter=xi.getAdapter;N.HttpStatusCode=ae;N.default=N;const{Axios:ca,AxiosError:ha,CanceledError:la,isCancel:ua,CancelToken:fa,VERSION:da,all:pa,Cancel:ma,isAxiosError:ga,spread:wa,toFormData:va,AxiosHeaders:ba,HttpStatusCode:ya,formToJSON:Ea,getAdapter:xa,mergeConfig:Oa}=N;window.axios=N;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function Fe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function Si(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Fe(Object(i),!0).forEach(function(r){yn(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Fe(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function wn(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Di(e){var t=wn(e,"string");return typeof t=="symbol"?t:t+""}function se(e){"@babel/helpers - typeof";return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(e)}function vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Di(r.key),r)}}function bn(e,t,i){return t&&je(e.prototype,t),i&&je(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function yn(e,t,i){return t=Di(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ai(e){return En(e)||xn(e)||On(e)||Rn()}function En(e){if(Array.isArray(e))return oe(e)}function xn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function On(e,t){if(e){if(typeof e=="string")return oe(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return oe(e,t)}}function oe(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Rn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Jt=typeof window<"u"&&typeof window.document<"u",Z=Jt?window:{},be=Jt&&Z.document.documentElement?"ontouchstart"in Z.document.documentElement:!1,ye=Jt?"PointerEvent"in Z:!1,D="cropper",Ee="all",Ci="crop",Ni="move",Mi="zoom",at="e",st="w",pt="s",et="n",Ot="ne",Rt="nw",Tt="se",St="sw",ce="".concat(D,"-crop"),ze="".concat(D,"-disabled"),F="".concat(D,"-hidden"),We="".concat(D,"-hide"),Tn="".concat(D,"-invisible"),Wt="".concat(D,"-modal"),he="".concat(D,"-move"),At="".concat(D,"Action"),Ut="".concat(D,"Preview"),xe="crop",Pi="move",_i="none",le="crop",ue="cropend",fe="cropmove",de="cropstart",Xe="dblclick",Sn=be?"touchstart":"mousedown",Dn=be?"touchmove":"mousemove",An=be?"touchend touchcancel":"mouseup",qe=ye?"pointerdown":Sn,Ye=ye?"pointermove":Dn,$e=ye?"pointerup pointercancel":An,Ve="ready",Je="resize",Ge="wheel",pe="zoom",Ke="image/jpeg",Cn=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Nn=/^data:/,Mn=/^data:image\/jpeg;base64,/,Pn=/^img|canvas$/i,Li=200,Bi=100,Qe={viewMode:0,dragMode:xe,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Li,minContainerHeight:Bi,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},_n='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Ln=Number.isNaN||Z.isNaN;function O(e){return typeof e=="number"&&!Ln(e)}var Ze=function(t){return t>0&&t<1/0};function Zt(e){return typeof e>"u"}function lt(e){return se(e)==="object"&&e!==null}var Bn=Object.prototype.hasOwnProperty;function mt(e){if(!lt(e))return!1;try{var t=e.constructor,i=t.prototype;return t&&i&&Bn.call(i,"isPrototypeOf")}catch{return!1}}function H(e){return typeof e=="function"}var kn=Array.prototype.slice;function ki(e){return Array.from?Array.from(e):kn.call(e)}function M(e,t){return e&&H(t)&&(Array.isArray(e)||O(e.length)?ki(e).forEach(function(i,r){t.call(e,i,r,e)}):lt(e)&&Object.keys(e).forEach(function(i){t.call(e,e[i],i,e)})),e}var A=Object.assign||function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return lt(t)&&r.length>0&&r.forEach(function(a){lt(a)&&Object.keys(a).forEach(function(s){t[s]=a[s]})}),t},Un=/\.\d*(?:0|9){12}\d*$/;function wt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Un.test(e)?Math.round(e*t)/t:e}var In=/^width|height|left|top|marginLeft|marginTop$/;function it(e,t){var i=e.style;M(t,function(r,n){In.test(n)&&O(r)&&(r="".concat(r,"px")),i[n]=r})}function Hn(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function L(e,t){if(t){if(O(e.length)){M(e,function(r){L(r,t)});return}if(e.classList){e.classList.add(t);return}var i=e.className.trim();i?i.indexOf(t)<0&&(e.className="".concat(i," ").concat(t)):e.className=t}}function Q(e,t){if(t){if(O(e.length)){M(e,function(i){Q(i,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function gt(e,t,i){if(t){if(O(e.length)){M(e,function(r){gt(r,t,i)});return}i?L(e,t):Q(e,t)}}var Fn=/([a-z\d])([A-Z])/g;function Oe(e){return e.replace(Fn,"$1-$2").toLowerCase()}function me(e,t){return lt(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Oe(t)))}function Ct(e,t,i){lt(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-".concat(Oe(t)),i)}function jn(e,t){if(lt(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Oe(t)))}var Ui=/\s\s*/,Ii=(function(){var e=!1;if(Jt){var t=!1,i=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(a){t=a}});Z.addEventListener("test",i,r),Z.removeEventListener("test",i,r)}return e})();function V(e,t,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=i;t.trim().split(Ui).forEach(function(a){if(!Ii){var s=e.listeners;s&&s[a]&&s[a][i]&&(n=s[a][i],delete s[a][i],Object.keys(s[a]).length===0&&delete s[a],Object.keys(s).length===0&&delete e.listeners)}e.removeEventListener(a,n,r)})}function Y(e,t,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=i;t.trim().split(Ui).forEach(function(a){if(r.once&&!Ii){var s=e.listeners,o=s===void 0?{}:s;n=function(){delete o[a][i],e.removeEventListener(a,n,r);for(var h=arguments.length,c=new Array(h),l=0;l<h;l++)c[l]=arguments[l];i.apply(e,c)},o[a]||(o[a]={}),o[a][i]&&e.removeEventListener(a,o[a][i],r),o[a][i]=n,e.listeners=o}e.addEventListener(a,n,r)})}function vt(e,t,i){var r;return H(Event)&&H(CustomEvent)?r=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,i)),e.dispatchEvent(r)}function Hi(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var te=Z.location,zn=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ti(e){var t=e.match(zn);return t!==null&&(t[1]!==te.protocol||t[2]!==te.hostname||t[3]!==te.port)}function ei(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function Dt(e){var t=e.rotate,i=e.scaleX,r=e.scaleY,n=e.translateX,a=e.translateY,s=[];O(n)&&n!==0&&s.push("translateX(".concat(n,"px)")),O(a)&&a!==0&&s.push("translateY(".concat(a,"px)")),O(t)&&t!==0&&s.push("rotate(".concat(t,"deg)")),O(i)&&i!==1&&s.push("scaleX(".concat(i,")")),O(r)&&r!==1&&s.push("scaleY(".concat(r,")"));var o=s.length?s.join(" "):"none";return{WebkitTransform:o,msTransform:o,transform:o}}function Wn(e){var t=Si({},e),i=0;return M(e,function(r,n){delete t[n],M(t,function(a){var s=Math.abs(r.startX-a.startX),o=Math.abs(r.startY-a.startY),u=Math.abs(r.endX-a.endX),h=Math.abs(r.endY-a.endY),c=Math.sqrt(s*s+o*o),l=Math.sqrt(u*u+h*h),d=(l-c)/c;Math.abs(d)>Math.abs(i)&&(i=d)})}),i}function It(e,t){var i=e.pageX,r=e.pageY,n={endX:i,endY:r};return t?n:Si({startX:i,startY:r},n)}function Xn(e){var t=0,i=0,r=0;return M(e,function(n){var a=n.startX,s=n.startY;t+=a,i+=s,r+=1}),t/=r,i/=r,{pageX:t,pageY:i}}function rt(e){var t=e.aspectRatio,i=e.height,r=e.width,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",a=Ze(r),s=Ze(i);if(a&&s){var o=i*t;n==="contain"&&o>r||n==="cover"&&o<r?i=r/t:r=i*t}else a?i=r/t:s&&(r=i*t);return{width:r,height:i}}function qn(e){var t=e.width,i=e.height,r=e.degree;if(r=Math.abs(r)%180,r===90)return{width:i,height:t};var n=r%90*Math.PI/180,a=Math.sin(n),s=Math.cos(n),o=t*s+i*a,u=t*a+i*s;return r>90?{width:u,height:o}:{width:o,height:u}}function Yn(e,t,i,r){var n=t.aspectRatio,a=t.naturalWidth,s=t.naturalHeight,o=t.rotate,u=o===void 0?0:o,h=t.scaleX,c=h===void 0?1:h,l=t.scaleY,d=l===void 0?1:l,v=i.aspectRatio,p=i.naturalWidth,w=i.naturalHeight,g=r.fillColor,E=g===void 0?"transparent":g,R=r.imageSmoothingEnabled,x=R===void 0?!0:R,S=r.imageSmoothingQuality,T=S===void 0?"low":S,m=r.maxWidth,b=m===void 0?1/0:m,C=r.maxHeight,B=C===void 0?1/0:C,W=r.minWidth,G=W===void 0?0:W,X=r.minHeight,I=X===void 0?0:X,P=document.createElement("canvas"),k=P.getContext("2d"),_=rt({aspectRatio:v,width:b,height:B}),nt=rt({aspectRatio:v,width:G,height:I},"cover"),q=Math.min(_.width,Math.max(nt.width,p)),ut=Math.min(_.height,Math.max(nt.height,w)),Lt=rt({aspectRatio:n,width:b,height:B}),$=rt({aspectRatio:n,width:G,height:I},"cover"),tt=Math.min(Lt.width,Math.max($.width,a)),ft=Math.min(Lt.height,Math.max($.height,s)),dt=[-tt/2,-ft/2,tt,ft];return P.width=wt(q),P.height=wt(ut),k.fillStyle=E,k.fillRect(0,0,q,ut),k.save(),k.translate(q/2,ut/2),k.rotate(u*Math.PI/180),k.scale(c,d),k.imageSmoothingEnabled=x,k.imageSmoothingQuality=T,k.drawImage.apply(k,[e].concat(Ai(dt.map(function(Bt){return Math.floor(wt(Bt))})))),k.restore(),P}var Fi=String.fromCharCode;function $n(e,t,i){var r="";i+=t;for(var n=t;n<i;n+=1)r+=Fi(e.getUint8(n));return r}var Vn=/^data:.*,/;function Jn(e){var t=e.replace(Vn,""),i=atob(t),r=new ArrayBuffer(i.length),n=new Uint8Array(r);return M(n,function(a,s){n[s]=i.charCodeAt(s)}),r}function Gn(e,t){for(var i=[],r=8192,n=new Uint8Array(e);n.length>0;)i.push(Fi.apply(null,ki(n.subarray(0,r)))),n=n.subarray(r);return"data:".concat(t,";base64,").concat(btoa(i.join("")))}function Kn(e){var t=new DataView(e),i;try{var r,n,a;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var s=t.byteLength,o=2;o+1<s;){if(t.getUint8(o)===255&&t.getUint8(o+1)===225){n=o;break}o+=1}if(n){var u=n+4,h=n+10;if($n(t,u,4)==="Exif"){var c=t.getUint16(h);if(r=c===18761,(r||c===19789)&&t.getUint16(h+2,r)===42){var l=t.getUint32(h+4,r);l>=8&&(a=h+l)}}}if(a){var d=t.getUint16(a,r),v,p;for(p=0;p<d;p+=1)if(v=a+p*12+2,t.getUint16(v,r)===274){v+=8,i=t.getUint16(v,r),t.setUint16(v,1,r);break}}}catch{i=1}return i}function Qn(e){var t=0,i=1,r=1;switch(e){case 2:i=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:i,scaleY:r}}var Zn={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,i=this.options,r=this.container,n=this.cropper,a=Number(i.minContainerWidth),s=Number(i.minContainerHeight);L(n,F),Q(t,F);var o={width:Math.max(r.offsetWidth,a>=0?a:Li),height:Math.max(r.offsetHeight,s>=0?s:Bi)};this.containerData=o,it(n,{width:o.width,height:o.height}),L(t,F),Q(n,F)},initCanvas:function(){var t=this.containerData,i=this.imageData,r=this.options.viewMode,n=Math.abs(i.rotate)%180===90,a=n?i.naturalHeight:i.naturalWidth,s=n?i.naturalWidth:i.naturalHeight,o=a/s,u=t.width,h=t.height;t.height*o>t.width?r===3?u=t.height*o:h=t.width/o:r===3?h=t.width/o:u=t.height*o;var c={aspectRatio:o,naturalWidth:a,naturalHeight:s,width:u,height:h};this.canvasData=c,this.limited=r===1||r===2,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(t.width-c.width)/2,c.top=(t.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=A({},c)},limitCanvas:function(t,i){var r=this.options,n=this.containerData,a=this.canvasData,s=this.cropBoxData,o=r.viewMode,u=a.aspectRatio,h=this.cropped&&s;if(t){var c=Number(r.minCanvasWidth)||0,l=Number(r.minCanvasHeight)||0;o>1?(c=Math.max(c,n.width),l=Math.max(l,n.height),o===3&&(l*u>c?c=l*u:l=c/u)):o>0&&(c?c=Math.max(c,h?s.width:0):l?l=Math.max(l,h?s.height:0):h&&(c=s.width,l=s.height,l*u>c?c=l*u:l=c/u));var d=rt({aspectRatio:u,width:c,height:l});c=d.width,l=d.height,a.minWidth=c,a.minHeight=l,a.maxWidth=1/0,a.maxHeight=1/0}if(i)if(o>(h?0:1)){var v=n.width-a.width,p=n.height-a.height;a.minLeft=Math.min(0,v),a.minTop=Math.min(0,p),a.maxLeft=Math.max(0,v),a.maxTop=Math.max(0,p),h&&this.limited&&(a.minLeft=Math.min(s.left,s.left+(s.width-a.width)),a.minTop=Math.min(s.top,s.top+(s.height-a.height)),a.maxLeft=s.left,a.maxTop=s.top,o===2&&(a.width>=n.width&&(a.minLeft=Math.min(0,v),a.maxLeft=Math.max(0,v)),a.height>=n.height&&(a.minTop=Math.min(0,p),a.maxTop=Math.max(0,p))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=n.width,a.maxTop=n.height},renderCanvas:function(t,i){var r=this.canvasData,n=this.imageData;if(i){var a=qn({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),s=a.width,o=a.height,u=r.width*(s/r.naturalWidth),h=r.height*(o/r.naturalHeight);r.left-=(u-r.width)/2,r.top-=(h-r.height)/2,r.width=u,r.height=h,r.aspectRatio=s/o,r.naturalWidth=s,r.naturalHeight=o,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,it(this.canvas,A({width:r.width,height:r.height},Dt({translateX:r.left,translateY:r.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var i=this.canvasData,r=this.imageData,n=r.naturalWidth*(i.width/i.naturalWidth),a=r.naturalHeight*(i.height/i.naturalHeight);A(r,{width:n,height:a,left:(i.width-n)/2,top:(i.height-a)/2}),it(this.image,A({width:r.width,height:r.height},Dt(A({translateX:r.left,translateY:r.top},r)))),t&&this.output()},initCropBox:function(){var t=this.options,i=this.canvasData,r=t.aspectRatio||t.initialAspectRatio,n=Number(t.autoCropArea)||.8,a={width:i.width,height:i.height};r&&(i.height*r>i.width?a.height=a.width/r:a.width=a.height*r),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*n),a.height=Math.max(a.minHeight,a.height*n),a.left=i.left+(i.width-a.width)/2,a.top=i.top+(i.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=A({},a)},limitCropBox:function(t,i){var r=this.options,n=this.containerData,a=this.canvasData,s=this.cropBoxData,o=this.limited,u=r.aspectRatio;if(t){var h=Number(r.minCropBoxWidth)||0,c=Number(r.minCropBoxHeight)||0,l=o?Math.min(n.width,a.width,a.width+a.left,n.width-a.left):n.width,d=o?Math.min(n.height,a.height,a.height+a.top,n.height-a.top):n.height;h=Math.min(h,n.width),c=Math.min(c,n.height),u&&(h&&c?c*u>h?c=h/u:h=c*u:h?c=h/u:c&&(h=c*u),d*u>l?d=l/u:l=d*u),s.minWidth=Math.min(h,l),s.minHeight=Math.min(c,d),s.maxWidth=l,s.maxHeight=d}i&&(o?(s.minLeft=Math.max(0,a.left),s.minTop=Math.max(0,a.top),s.maxLeft=Math.min(n.width,a.left+a.width)-s.width,s.maxTop=Math.min(n.height,a.top+a.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=n.width-s.width,s.maxTop=n.height-s.height))},renderCropBox:function(){var t=this.options,i=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,t.movable&&t.cropBoxMovable&&Ct(this.face,At,r.width>=i.width&&r.height>=i.height?Ni:Ee),it(this.cropBox,A({width:r.width,height:r.height},Dt({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),vt(this.element,le,this.getData())}},ta={initPreview:function(){var t=this.element,i=this.crossOrigin,r=this.options.preview,n=i?this.crossOriginUrl:this.url,a=t.alt||"The image to preview",s=document.createElement("img");if(i&&(s.crossOrigin=i),s.src=n,s.alt=a,this.viewBox.appendChild(s),this.viewBoxImage=s,!!r){var o=r;typeof r=="string"?o=t.ownerDocument.querySelectorAll(r):r.querySelector&&(o=[r]),this.previews=o,M(o,function(u){var h=document.createElement("img");Ct(u,Ut,{width:u.offsetWidth,height:u.offsetHeight,html:u.innerHTML}),i&&(h.crossOrigin=i),h.src=n,h.alt=a,h.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',u.innerHTML="",u.appendChild(h)})}},resetPreview:function(){M(this.previews,function(t){var i=me(t,Ut);it(t,{width:i.width,height:i.height}),t.innerHTML=i.html,jn(t,Ut)})},preview:function(){var t=this.imageData,i=this.canvasData,r=this.cropBoxData,n=r.width,a=r.height,s=t.width,o=t.height,u=r.left-i.left-t.left,h=r.top-i.top-t.top;!this.cropped||this.disabled||(it(this.viewBoxImage,A({width:s,height:o},Dt(A({translateX:-u,translateY:-h},t)))),M(this.previews,function(c){var l=me(c,Ut),d=l.width,v=l.height,p=d,w=v,g=1;n&&(g=d/n,w=a*g),a&&w>v&&(g=v/a,p=n*g,w=v),it(c,{width:p,height:w}),it(c.getElementsByTagName("img")[0],A({width:s*g,height:o*g},Dt(A({translateX:-u*g,translateY:-h*g},t))))}))}},ea={bind:function(){var t=this.element,i=this.options,r=this.cropper;H(i.cropstart)&&Y(t,de,i.cropstart),H(i.cropmove)&&Y(t,fe,i.cropmove),H(i.cropend)&&Y(t,ue,i.cropend),H(i.crop)&&Y(t,le,i.crop),H(i.zoom)&&Y(t,pe,i.zoom),Y(r,qe,this.onCropStart=this.cropStart.bind(this)),i.zoomable&&i.zoomOnWheel&&Y(r,Ge,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&Y(r,Xe,this.onDblclick=this.dblclick.bind(this)),Y(t.ownerDocument,Ye,this.onCropMove=this.cropMove.bind(this)),Y(t.ownerDocument,$e,this.onCropEnd=this.cropEnd.bind(this)),i.responsive&&Y(window,Je,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,i=this.options,r=this.cropper;H(i.cropstart)&&V(t,de,i.cropstart),H(i.cropmove)&&V(t,fe,i.cropmove),H(i.cropend)&&V(t,ue,i.cropend),H(i.crop)&&V(t,le,i.crop),H(i.zoom)&&V(t,pe,i.zoom),V(r,qe,this.onCropStart),i.zoomable&&i.zoomOnWheel&&V(r,Ge,this.onWheel,{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&V(r,Xe,this.onDblclick),V(t.ownerDocument,Ye,this.onCropMove),V(t.ownerDocument,$e,this.onCropEnd),i.responsive&&V(window,Je,this.onResize)}},ia={resize:function(){if(!this.disabled){var t=this.options,i=this.container,r=this.containerData,n=i.offsetWidth/r.width,a=i.offsetHeight/r.height,s=Math.abs(n-1)>Math.abs(a-1)?n:a;if(s!==1){var o,u;t.restore&&(o=this.getCanvasData(),u=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(M(o,function(h,c){o[c]=h*s})),this.setCropBoxData(M(u,function(h,c){u[c]=h*s})))}}},dblclick:function(){this.disabled||this.options.dragMode===_i||this.setDragMode(Hn(this.dragBox,ce)?Pi:xe)},wheel:function(t){var i=this,r=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50),t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*r,t)))},cropStart:function(t){var i=t.buttons,r=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(O(i)&&i!==1||O(r)&&r!==0||t.ctrlKey))){var n=this.options,a=this.pointers,s;t.changedTouches?M(t.changedTouches,function(o){a[o.identifier]=It(o)}):a[t.pointerId||0]=It(t),Object.keys(a).length>1&&n.zoomable&&n.zoomOnTouch?s=Mi:s=me(t.target,At),Cn.test(s)&&vt(this.element,de,{originalEvent:t,action:s})!==!1&&(t.preventDefault(),this.action=s,this.cropping=!1,s===Ci&&(this.cropping=!0,L(this.dragBox,Wt)))}},cropMove:function(t){var i=this.action;if(!(this.disabled||!i)){var r=this.pointers;t.preventDefault(),vt(this.element,fe,{originalEvent:t,action:i})!==!1&&(t.changedTouches?M(t.changedTouches,function(n){A(r[n.identifier]||{},It(n,!0))}):A(r[t.pointerId||0]||{},It(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var i=this.action,r=this.pointers;t.changedTouches?M(t.changedTouches,function(n){delete r[n.identifier]}):delete r[t.pointerId||0],i&&(t.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,gt(this.dragBox,Wt,this.cropped&&this.options.modal)),vt(this.element,ue,{originalEvent:t,action:i}))}}},ra={change:function(t){var i=this.options,r=this.canvasData,n=this.containerData,a=this.cropBoxData,s=this.pointers,o=this.action,u=i.aspectRatio,h=a.left,c=a.top,l=a.width,d=a.height,v=h+l,p=c+d,w=0,g=0,E=n.width,R=n.height,x=!0,S;!u&&t.shiftKey&&(u=l&&d?l/d:1),this.limited&&(w=a.minLeft,g=a.minTop,E=w+Math.min(n.width,r.width,r.left+r.width),R=g+Math.min(n.height,r.height,r.top+r.height));var T=s[Object.keys(s)[0]],m={x:T.endX-T.startX,y:T.endY-T.startY},b=function(B){switch(B){case at:v+m.x>E&&(m.x=E-v);break;case st:h+m.x<w&&(m.x=w-h);break;case et:c+m.y<g&&(m.y=g-c);break;case pt:p+m.y>R&&(m.y=R-p);break}};switch(o){case Ee:h+=m.x,c+=m.y;break;case at:if(m.x>=0&&(v>=E||u&&(c<=g||p>=R))){x=!1;break}b(at),l+=m.x,l<0&&(o=st,l=-l,h-=l),u&&(d=l/u,c+=(a.height-d)/2);break;case et:if(m.y<=0&&(c<=g||u&&(h<=w||v>=E))){x=!1;break}b(et),d-=m.y,c+=m.y,d<0&&(o=pt,d=-d,c-=d),u&&(l=d*u,h+=(a.width-l)/2);break;case st:if(m.x<=0&&(h<=w||u&&(c<=g||p>=R))){x=!1;break}b(st),l-=m.x,h+=m.x,l<0&&(o=at,l=-l,h-=l),u&&(d=l/u,c+=(a.height-d)/2);break;case pt:if(m.y>=0&&(p>=R||u&&(h<=w||v>=E))){x=!1;break}b(pt),d+=m.y,d<0&&(o=et,d=-d,c-=d),u&&(l=d*u,h+=(a.width-l)/2);break;case Ot:if(u){if(m.y<=0&&(c<=g||v>=E)){x=!1;break}b(et),d-=m.y,c+=m.y,l=d*u}else b(et),b(at),m.x>=0?v<E?l+=m.x:m.y<=0&&c<=g&&(x=!1):l+=m.x,m.y<=0?c>g&&(d-=m.y,c+=m.y):(d-=m.y,c+=m.y);l<0&&d<0?(o=St,d=-d,l=-l,c-=d,h-=l):l<0?(o=Rt,l=-l,h-=l):d<0&&(o=Tt,d=-d,c-=d);break;case Rt:if(u){if(m.y<=0&&(c<=g||h<=w)){x=!1;break}b(et),d-=m.y,c+=m.y,l=d*u,h+=a.width-l}else b(et),b(st),m.x<=0?h>w?(l-=m.x,h+=m.x):m.y<=0&&c<=g&&(x=!1):(l-=m.x,h+=m.x),m.y<=0?c>g&&(d-=m.y,c+=m.y):(d-=m.y,c+=m.y);l<0&&d<0?(o=Tt,d=-d,l=-l,c-=d,h-=l):l<0?(o=Ot,l=-l,h-=l):d<0&&(o=St,d=-d,c-=d);break;case St:if(u){if(m.x<=0&&(h<=w||p>=R)){x=!1;break}b(st),l-=m.x,h+=m.x,d=l/u}else b(pt),b(st),m.x<=0?h>w?(l-=m.x,h+=m.x):m.y>=0&&p>=R&&(x=!1):(l-=m.x,h+=m.x),m.y>=0?p<R&&(d+=m.y):d+=m.y;l<0&&d<0?(o=Ot,d=-d,l=-l,c-=d,h-=l):l<0?(o=Tt,l=-l,h-=l):d<0&&(o=Rt,d=-d,c-=d);break;case Tt:if(u){if(m.x>=0&&(v>=E||p>=R)){x=!1;break}b(at),l+=m.x,d=l/u}else b(pt),b(at),m.x>=0?v<E?l+=m.x:m.y>=0&&p>=R&&(x=!1):l+=m.x,m.y>=0?p<R&&(d+=m.y):d+=m.y;l<0&&d<0?(o=Rt,d=-d,l=-l,c-=d,h-=l):l<0?(o=St,l=-l,h-=l):d<0&&(o=Ot,d=-d,c-=d);break;case Ni:this.move(m.x,m.y),x=!1;break;case Mi:this.zoom(Wn(s),t),x=!1;break;case Ci:if(!m.x||!m.y){x=!1;break}S=Hi(this.cropper),h=T.startX-S.left,c=T.startY-S.top,l=a.minWidth,d=a.minHeight,m.x>0?o=m.y>0?Tt:Ot:m.x<0&&(h-=l,o=m.y>0?St:Rt),m.y<0&&(c-=d),this.cropped||(Q(this.cropBox,F),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}x&&(a.width=l,a.height=d,a.left=h,a.top=c,this.action=o,this.renderCropBox()),M(s,function(C){C.startX=C.endX,C.startY=C.endY})}},na={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&L(this.dragBox,Wt),Q(this.cropBox,F),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=A({},this.initialImageData),this.canvasData=A({},this.initialCanvasData),this.cropBoxData=A({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(A(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Q(this.dragBox,Wt),L(this.cropBox,F)),this},replace:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),i?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,M(this.previews,function(r){r.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Q(this.cropper,ze)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,L(this.cropper,ze)),this},destroy:function(){var t=this.element;return t[D]?(t[D]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,n=r.left,a=r.top;return this.moveTo(Zt(t)?t:n+Number(t),Zt(i)?i:a+Number(i))},moveTo:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,n=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.movable&&(O(t)&&(r.left=t,n=!0),O(i)&&(r.top=i,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(t,i){var r=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(r.width*t/r.naturalWidth,null,i)},zoomTo:function(t,i,r){var n=this.options,a=this.canvasData,s=a.width,o=a.height,u=a.naturalWidth,h=a.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&n.zoomable){var c=u*t,l=h*t;if(vt(this.element,pe,{ratio:t,oldRatio:s/u,originalEvent:r})===!1)return this;if(r){var d=this.pointers,v=Hi(this.cropper),p=d&&Object.keys(d).length?Xn(d):{pageX:r.pageX,pageY:r.pageY};a.left-=(c-s)*((p.pageX-v.left-a.left)/s),a.top-=(l-o)*((p.pageY-v.top-a.top)/o)}else mt(i)&&O(i.x)&&O(i.y)?(a.left-=(c-s)*((i.x-a.left)/s),a.top-=(l-o)*((i.y-a.top)/o)):(a.left-=(c-s)/2,a.top-=(l-o)/2);a.width=c,a.height=l,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),O(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var i=this.imageData.scaleY;return this.scale(t,O(i)?i:1)},scaleY:function(t){var i=this.imageData.scaleX;return this.scale(O(i)?i:1,t)},scale:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.imageData,n=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(O(t)&&(r.scaleX=t,n=!0),O(i)&&(r.scaleY=i,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.options,r=this.imageData,n=this.canvasData,a=this.cropBoxData,s;if(this.ready&&this.cropped){s={x:a.left-n.left,y:a.top-n.top,width:a.width,height:a.height};var o=r.width/r.naturalWidth;if(M(s,function(c,l){s[l]=c/o}),t){var u=Math.round(s.y+s.height),h=Math.round(s.x+s.width);s.x=Math.round(s.x),s.y=Math.round(s.y),s.width=h-s.x,s.height=u-s.y}}else s={x:0,y:0,width:0,height:0};return i.rotatable&&(s.rotate=r.rotate||0),i.scalable&&(s.scaleX=r.scaleX||1,s.scaleY=r.scaleY||1),s},setData:function(t){var i=this.options,r=this.imageData,n=this.canvasData,a={};if(this.ready&&!this.disabled&&mt(t)){var s=!1;i.rotatable&&O(t.rotate)&&t.rotate!==r.rotate&&(r.rotate=t.rotate,s=!0),i.scalable&&(O(t.scaleX)&&t.scaleX!==r.scaleX&&(r.scaleX=t.scaleX,s=!0),O(t.scaleY)&&t.scaleY!==r.scaleY&&(r.scaleY=t.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var o=r.width/r.naturalWidth;O(t.x)&&(a.left=t.x*o+n.left),O(t.y)&&(a.top=t.y*o+n.top),O(t.width)&&(a.width=t.width*o),O(t.height)&&(a.height=t.height*o),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?A({},this.containerData):{}},getImageData:function(){return this.sized?A({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,i={};return this.ready&&M(["left","top","width","height","naturalWidth","naturalHeight"],function(r){i[r]=t[r]}),i},setCanvasData:function(t){var i=this.canvasData,r=i.aspectRatio;return this.ready&&!this.disabled&&mt(t)&&(O(t.left)&&(i.left=t.left),O(t.top)&&(i.top=t.top),O(t.width)?(i.width=t.width,i.height=t.width/r):O(t.height)&&(i.height=t.height,i.width=t.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,i;return this.ready&&this.cropped&&(i={left:t.left,top:t.top,width:t.width,height:t.height}),i||{}},setCropBoxData:function(t){var i=this.cropBoxData,r=this.options.aspectRatio,n,a;return this.ready&&this.cropped&&!this.disabled&&mt(t)&&(O(t.left)&&(i.left=t.left),O(t.top)&&(i.top=t.top),O(t.width)&&t.width!==i.width&&(n=!0,i.width=t.width),O(t.height)&&t.height!==i.height&&(a=!0,i.height=t.height),r&&(n?i.height=i.width/r:a&&(i.width=i.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var i=this.canvasData,r=Yn(this.image,this.imageData,i,t);if(!this.cropped)return r;var n=this.getData(t.rounded),a=n.x,s=n.y,o=n.width,u=n.height,h=r.width/Math.floor(i.naturalWidth);h!==1&&(a*=h,s*=h,o*=h,u*=h);var c=o/u,l=rt({aspectRatio:c,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),d=rt({aspectRatio:c,width:t.minWidth||0,height:t.minHeight||0},"cover"),v=rt({aspectRatio:c,width:t.width||(h!==1?r.width:o),height:t.height||(h!==1?r.height:u)}),p=v.width,w=v.height;p=Math.min(l.width,Math.max(d.width,p)),w=Math.min(l.height,Math.max(d.height,w));var g=document.createElement("canvas"),E=g.getContext("2d");g.width=wt(p),g.height=wt(w),E.fillStyle=t.fillColor||"transparent",E.fillRect(0,0,p,w);var R=t.imageSmoothingEnabled,x=R===void 0?!0:R,S=t.imageSmoothingQuality;E.imageSmoothingEnabled=x,S&&(E.imageSmoothingQuality=S);var T=r.width,m=r.height,b=a,C=s,B,W,G,X,I,P;b<=-o||b>T?(b=0,B=0,G=0,I=0):b<=0?(G=-b,b=0,B=Math.min(T,o+b),I=B):b<=T&&(G=0,B=Math.min(o,T-b),I=B),B<=0||C<=-u||C>m?(C=0,W=0,X=0,P=0):C<=0?(X=-C,C=0,W=Math.min(m,u+C),P=W):C<=m&&(X=0,W=Math.min(u,m-C),P=W);var k=[b,C,B,W];if(I>0&&P>0){var _=p/o;k.push(G*_,X*_,I*_,P*_)}return E.drawImage.apply(E,[r].concat(Ai(k.map(function(nt){return Math.floor(wt(nt))})))),g},setAspectRatio:function(t){var i=this.options;return!this.disabled&&!Zt(t)&&(i.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var i=this.options,r=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var a=t===xe,s=i.movable&&t===Pi;t=a||s?t:_i,i.dragMode=t,Ct(r,At,t),gt(r,ce,a),gt(r,he,s),i.cropBoxMovable||(Ct(n,At,t),gt(n,ce,a),gt(n,he,s))}return this}},aa=Z.Cropper,ji=(function(){function e(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(vn(this,e),!t||!Pn.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=A({},Qe,mt(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return bn(e,[{key:"init",value:function(){var i=this.element,r=i.tagName.toLowerCase(),n;if(!i[D]){if(i[D]=this,r==="img"){if(this.isImg=!0,n=i.getAttribute("src")||"",this.originalUrl=n,!n)return;n=i.src}else r==="canvas"&&window.HTMLCanvasElement&&(n=i.toDataURL());this.load(n)}}},{key:"load",value:function(i){var r=this;if(i){this.url=i,this.imageData={};var n=this.element,a=this.options;if(!a.rotatable&&!a.scalable&&(a.checkOrientation=!1),!a.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Nn.test(i)){Mn.test(i)?this.read(Jn(i)):this.clone();return}var s=new XMLHttpRequest,o=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=o,s.onerror=o,s.ontimeout=o,s.onprogress=function(){s.getResponseHeader("content-type")!==Ke&&s.abort()},s.onload=function(){r.read(s.response)},s.onloadend=function(){r.reloading=!1,r.xhr=null},a.checkCrossOrigin&&ti(i)&&n.crossOrigin&&(i=ei(i)),s.open("GET",i,!0),s.responseType="arraybuffer",s.withCredentials=n.crossOrigin==="use-credentials",s.send()}}},{key:"read",value:function(i){var r=this.options,n=this.imageData,a=Kn(i),s=0,o=1,u=1;if(a>1){this.url=Gn(i,Ke);var h=Qn(a);s=h.rotate,o=h.scaleX,u=h.scaleY}r.rotatable&&(n.rotate=s),r.scalable&&(n.scaleX=o,n.scaleY=u),this.clone()}},{key:"clone",value:function(){var i=this.element,r=this.url,n=i.crossOrigin,a=r;this.options.checkCrossOrigin&&ti(r)&&(n||(n="anonymous"),a=ei(r)),this.crossOrigin=n,this.crossOriginUrl=a;var s=document.createElement("img");n&&(s.crossOrigin=n),s.src=a||r,s.alt=i.alt||"The image to crop",this.image=s,s.onload=this.start.bind(this),s.onerror=this.stop.bind(this),L(s,We),i.parentNode.insertBefore(s,i.nextSibling)}},{key:"start",value:function(){var i=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var n=Z.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Z.navigator.userAgent),a=function(h,c){A(i.imageData,{naturalWidth:h,naturalHeight:c,aspectRatio:h/c}),i.initialImageData=A({},i.imageData),i.sizing=!1,i.sized=!0,i.build()};if(r.naturalWidth&&!n){a(r.naturalWidth,r.naturalHeight);return}var s=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=s,s.onload=function(){a(s.width,s.height),n||o.removeChild(s)},s.src=r.src,n||(s.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(s))}},{key:"stop",value:function(){var i=this.image;i.onload=null,i.onerror=null,i.parentNode.removeChild(i),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var i=this.element,r=this.options,n=this.image,a=i.parentNode,s=document.createElement("div");s.innerHTML=_n;var o=s.querySelector(".".concat(D,"-container")),u=o.querySelector(".".concat(D,"-canvas")),h=o.querySelector(".".concat(D,"-drag-box")),c=o.querySelector(".".concat(D,"-crop-box")),l=c.querySelector(".".concat(D,"-face"));this.container=a,this.cropper=o,this.canvas=u,this.dragBox=h,this.cropBox=c,this.viewBox=o.querySelector(".".concat(D,"-view-box")),this.face=l,u.appendChild(n),L(i,F),a.insertBefore(o,i.nextSibling),Q(n,We),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,L(c,F),r.guides||L(c.getElementsByClassName("".concat(D,"-dashed")),F),r.center||L(c.getElementsByClassName("".concat(D,"-center")),F),r.background&&L(o,"".concat(D,"-bg")),r.highlight||L(l,Tn),r.cropBoxMovable&&(L(l,he),Ct(l,At,Ee)),r.cropBoxResizable||(L(c.getElementsByClassName("".concat(D,"-line")),F),L(c.getElementsByClassName("".concat(D,"-point")),F)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),H(r.ready)&&Y(i,Ve,r.ready,{once:!0}),vt(i,Ve)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var i=this.cropper.parentNode;i&&i.removeChild(this.cropper),Q(this.element,F)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=aa,e}},{key:"setDefaults",value:function(i){A(Qe,mt(i)&&i)}}])})();A(ji.prototype,Zn,ta,ea,ia,ra,na);window.Cropper=ji;
